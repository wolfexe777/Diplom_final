{% extends 'base.html' %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<main class="container mx-auto p-6 md:p-10">
  <div class="flex justify-center mb-8">
    <div>
      <h1 class="text-4xl font-bold">Регистрация клиента</h1>
      <p class="text-lg text-gray-500 mt-2">Пожалуйста, заполните форму регистрации</p>
    </div>
  </div>
  <div class="border bg-card text-card-foreground rounded-md shadow-lg max-w-sm mx-auto" data-v0-t="card">
    <div class="flex flex-col space-y-1.5 bg-gray-100 p-4">
      <h3 class="font-semibold text-lg text-center">Форма регистрации клиента</h3>
    </div>
    <div class="p-4">
        <form method="post" class="space-y-2">
            {% csrf_token %}

            {% if form.errors %}
                <ul class="errorlist">
                    {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            {% endif %}

<input class="border rounded w-full p-2" placeholder="Имя пользователя" aria-label="Username" type="text" name="username" value="{{ form.username.value|default:'' }}" required />
<input class="border rounded w-full p-2" placeholder="Имя" aria-label="First Name" type="text" name="first_name" value="{{ form.first_name.value|default:'' }}" required />
<input class="border rounded w-full p-2" placeholder="Фамилия" aria-label="Second Name" type="text" name="second_name" value="{{ form.second_name.value|default:'' }}" required />
<input class="border rounded w-full p-2" placeholder="Отчество" aria-label="Middle Name" type="text" name="middle_name" value="{{ form.middle_name.value|default:'' }}" />
<input class="border rounded w-full p-2" placeholder="Дата рождения (ДД.ММ.ГГГГ)" aria-label="Date of Birth" type="text" name="date_of_birth" value="{{ form.date_of_birth.value|default:'' }}" required />
<input class="border rounded w-full p-2" placeholder="Email" aria-label="Email" type="email" name="email" value="{{ form.email.value|default:'' }}" required />
<input class="border rounded w-full p-2" placeholder="Номер телефона" aria-label="Phone Number" type="tel" name="phone_number" value="{{ form.phone_number.value|default:'' }}" required />
<input class="border rounded w-full p-2" placeholder="Пароль" aria-label="Password" type="password" name="password1" required />
<input class="border rounded w-full p-2" placeholder="Подтверждение пароля" aria-label="Confirm Password" type="password" name="password2" required />

{% if form.errors %}
  {% if form.errors.username %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('username')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.first_name %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('first_name')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.second_name %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('second_name')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.middle_name %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('middle_name')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.date_of_birth %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('date_of_birth')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.email %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('email')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.phone_number %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('phone_number')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.password1 %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('password1')[0].value = '';
      });
    </script>
  {% endif %}
  {% if form.errors.password2 %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementsByName('password2')[0].value = '';
      });
    </script>
  {% endif %}
{% endif %}

            <button type="submit" class="border-2 border-gray-300 border-solid inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-green-600 h-10 px-4 py-2 bg-green-500 text-white w-full mt-4">
                Зарегистрироваться
            </button>
        </form>
        <a class="border-2 border-gray-300 border-solid inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-red-600 h-10 px-4 py-2 bg-red-500 text-white w-full mt-4" href="{% url 'home' %}">Отмена</a>
    </div>
  </div>
</main>
{% endblock %}








